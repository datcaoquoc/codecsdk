!function(){"use strict";var n,t,e,o;!function(n){n.BANNER="banner",n.NATIVE="native",n.VIDEO="video",n.POPUP="popup",n.FLOAT="float"}(n||(n={})),function(n){n.ON_LOAD="on_load",n.ON_DELAY="delay",n.ON_SCROLL="scroll",n.ON_CLICK="click",n.ON_INACTIVITY="inactivity"}(t||(t={})),function(n){n.BOTTOM_LEFT="bottom-left",n.BOTTOM_RIGHT="bottom-right",n.BOTTOM_CENTER="bottom-center",n.TOP_LEFT="top-left",n.TOP_RIGHT="top-right",n.TOP_CENTER="top-center",n.CENTER_LEFT="center-left",n.CENTER_RIGHT="center-right"}(e||(e={})),function(n){n.IMPRESSION="impression",n.CLICK="click",n.ERROR="error"}(o||(o={}));class i{constructor(){this.endpoint="http://113.161.103.134:8096/api/v1/tracking/events/codec.gif"}t(n){const{campaignId:t,context:e,creativeInfo:i,inventId:c,transactionId:r,unit:d,userId:a}=n,s=this.o({cr:null==i?void 0:i.creativeId,ad_type:"OUTSTREAM",event:o.IMPRESSION,transaction_id:r,ev_context:e,user_id:a,unit:d,cp:t,iv:c}),u=`${this.endpoint}?${s}`;(new Image).src=u}i(n){const{campaignId:t,context:e,creativeInfo:i,inventId:c,transactionId:r,unit:d,userId:a,url:s}=n,u=this.o({cr:null==i?void 0:i.creativeId,ad_type:"OUTSTREAM",event:o.CLICK,transaction_id:r,ev_context:e,user_id:a,unit:d,cp:t,iv:c,url:s});return`${this.endpoint}?${u}`}uuid(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,n=>{const t=16*Math.random()|0;return("x"===n?t:3&t|8).toString(16)})}o(n){return Object.entries(n).map(([n,t])=>`${encodeURIComponent(n)}=${encodeURIComponent(t)}`).join("&")}}window.AdTracking=new i;const c={};window._arfPlugins=window._arfPlugins||{},window._arfPlugins.banner=function({campaignId:n,creativeInfo:t,slotId:e,transactionId:o,eventContext:r,unit:d,userId:a,options:s}){var u,l;let x=document.getElementById(`slot-${e}`);if(!x)return;x.innerHTML="";const v=document.createElement("iframe");v.width=t.width.toString(),v.height=t.height.toString(),v.frameBorder="0",v.style.border="none",x.appendChild(v);const I=v.contentDocument||(null===(u=v.contentWindow)||void 0===u?void 0:u.document);if(!I)return;I.open();const p=(new i).i({campaignId:n,context:r,creativeInfo:t,inventId:e,transactionId:o,unit:d,userId:a,url:t.ldp});var w;I.write(`\n    <html>\n      <head><style>body{margin:0;padding:0;overflow:hidden}</style></head>\n      <body>\n        <a href="${p||"#"}" target="_blank"\n           style="display:block;width:100%;height:100%;\n           background:url('${null==t?void 0:t.content_url}') center/cover no-repeat;"></a>\n        <script src="./dist/plugin-codeclogo.js"><\/script>\n      </body>\n    </html>\n  `),I.close(),w={campaignId:n,container:x,context:r,creative:t,slotId:e,transactionId:o,unit:d,userId:a},new IntersectionObserver((n,t)=>{n.forEach(n=>{n.isIntersecting&&n.intersectionRatio>=.5&&((new i).t({campaignId:w.campaignId,context:w.context,creativeInfo:w.creative,inventId:w.slotId,transactionId:w.transactionId,unit:w.unit,userId:w.userId}),t.disconnect())})},{threshold:[.5]}).observe(w.container);const f=s||{},m=f.refreshInterval||30,h=f.maxRefresh||0;if((null===(l=c[e])||void 0===l?void 0:l.timer)&&clearTimeout(c[e].timer),c[e]||(c[e]={count:0}),c[e].count<h){const n=setTimeout(()=>{c[e].count+=1,window._arfQueue&&window._arfProcessQueue&&(window._arfQueue.push({zone:e}),window._arfProcessQueue())},1e3*m);c[e].timer=n}}}();
